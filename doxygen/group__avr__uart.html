<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>SimAVR: UART</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SimAVR
   </div>
   <div id="projectbrief">AVR Simulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__avr__uart.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">UART</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structavr__uart__t.html">avr_uart_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga62c18e407dacd74e380761671bbb8576"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr__uart.html#ga62c18e407dacd74e380761671bbb8576">AVR_IOCTL_UART_GETIRQ</a>(_name)&#160;&#160;&#160;<a class="el" href="group__sim__io.html#ga48b4e072a1b502f0a207adbb573ce0c5">AVR_IOCTL_DEF</a>('u','a','r',(_name))</td></tr>
<tr class="memdesc:ga62c18e407dacd74e380761671bbb8576"><td class="mdescLeft">&#160;</td><td class="mdescRight">add port number to get the real IRQ  <a href="#ga62c18e407dacd74e380761671bbb8576">More...</a><br /></td></tr>
<tr class="separator:ga62c18e407dacd74e380761671bbb8576"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5b4beef482ddb02335b10316a481cec1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr__uart.html#ga5b4beef482ddb02335b10316a481cec1">AVR_IOCTL_UART_SET_FLAGS</a>(_name)&#160;&#160;&#160;<a class="el" href="group__sim__io.html#ga48b4e072a1b502f0a207adbb573ce0c5">AVR_IOCTL_DEF</a>('u','a','s',(_name))</td></tr>
<tr class="separator:ga5b4beef482ddb02335b10316a481cec1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeee2d59de3e8a4ca40a83460b29b7b15"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr__uart.html#gaeee2d59de3e8a4ca40a83460b29b7b15">AVR_IOCTL_UART_GET_FLAGS</a>(_name)&#160;&#160;&#160;<a class="el" href="group__sim__io.html#ga48b4e072a1b502f0a207adbb573ce0c5">AVR_IOCTL_DEF</a>('u','a','g',(_name))</td></tr>
<tr class="separator:gaeee2d59de3e8a4ca40a83460b29b7b15"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gab1a1496e19d7010a90e1daf5ba43c4bc"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structavr__uart__t.html">avr_uart_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr__uart.html#gab1a1496e19d7010a90e1daf5ba43c4bc">avr_uart_t</a></td></tr>
<tr class="separator:gab1a1496e19d7010a90e1daf5ba43c4bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga6b7b47dd702d9e331586d485013fd1ea"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="group__avr__uart.html#gga6b7b47dd702d9e331586d485013fd1eaa13ae4a52f3b3d9cf1f248bd4a2bad864">UART_IRQ_INPUT</a> = 0, 
<a class="el" href="group__avr__uart.html#gga6b7b47dd702d9e331586d485013fd1eaa2e1090e4531310ee0c8230b0e8ae5992">UART_IRQ_OUTPUT</a>, 
<a class="el" href="group__avr__uart.html#gga6b7b47dd702d9e331586d485013fd1eaa736f8ee28a7fcab50315ae6852a0c65c">UART_IRQ_OUT_XON</a>, 
<a class="el" href="group__avr__uart.html#gga6b7b47dd702d9e331586d485013fd1eaa67242134d4743aca3e7ea49897274067">UART_IRQ_OUT_XOFF</a>, 
<br />
&#160;&#160;<a class="el" href="group__avr__uart.html#gga6b7b47dd702d9e331586d485013fd1eaa124c15e2c2113d82c9471128635a4a64">UART_IRQ_COUNT</a>
<br />
 }</td></tr>
<tr class="memdesc:ga6b7b47dd702d9e331586d485013fd1ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method of "connecting" the the UART from external code is to use 4 IRQS.  <a href="group__avr__uart.html#ga6b7b47dd702d9e331586d485013fd1ea">More...</a><br /></td></tr>
<tr class="separator:ga6b7b47dd702d9e331586d485013fd1ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf9bdc3014f3d54c426b6d2df10de4960"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="group__avr__uart.html#ggaf9bdc3014f3d54c426b6d2df10de4960a0727d1c67243388a426c3b1fe354cb90">AVR_UART_FLAG_POOL_SLEEP</a> = (1 &lt;&lt; 0), 
<a class="el" href="group__avr__uart.html#ggaf9bdc3014f3d54c426b6d2df10de4960a52b3a26b795519081af9292d4a5547cd">AVR_UART_FLAG_STDIO</a> = (1 &lt;&lt; 1)
 }</td></tr>
<tr class="separator:gaf9bdc3014f3d54c426b6d2df10de4960"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac58237e1a35c062c02b9c42bc72bb0da"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr__uart.html#gac58237e1a35c062c02b9c42bc72bb0da">DECLARE_FIFO</a> (uint8_t, uart_fifo, 64)</td></tr>
<tr class="separator:gac58237e1a35c062c02b9c42bc72bb0da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad9e028ea2f9beda8ca0366852704697b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr__uart.html#gad9e028ea2f9beda8ca0366852704697b">avr_uart_init</a> (<a class="el" href="structavr__t.html">avr_t</a> *<a class="el" href="run__avr_8c.html#aeb0aa2edcda5f05d05ae8eaada1ce660">avr</a>, <a class="el" href="structavr__uart__t.html">avr_uart_t</a> *port)</td></tr>
<tr class="separator:gad9e028ea2f9beda8ca0366852704697b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="gaeee2d59de3e8a4ca40a83460b29b7b15"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AVR_IOCTL_UART_GET_FLAGS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_name</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__sim__io.html#ga48b4e072a1b502f0a207adbb573ce0c5">AVR_IOCTL_DEF</a>('u','a','g',(_name))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga62c18e407dacd74e380761671bbb8576"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AVR_IOCTL_UART_GETIRQ</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_name</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__sim__io.html#ga48b4e072a1b502f0a207adbb573ce0c5">AVR_IOCTL_DEF</a>('u','a','r',(_name))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>add port number to get the real IRQ </p>

</div>
</div>
<a class="anchor" id="ga5b4beef482ddb02335b10316a481cec1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AVR_IOCTL_UART_SET_FLAGS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_name</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__sim__io.html#ga48b4e072a1b502f0a207adbb573ce0c5">AVR_IOCTL_DEF</a>('u','a','s',(_name))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="gab1a1496e19d7010a90e1daf5ba43c4bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structavr__uart__t.html">avr_uart_t</a>  <a class="el" href="structavr__uart__t.html">avr_uart_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga6b7b47dd702d9e331586d485013fd1ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The method of "connecting" the the UART from external code is to use 4 IRQS. </p>
<p>The easy one is UART-&gt;YOU, where you will be called with the byte every time the AVR firmware sends one. Do whatever you like with it.</p>
<p>The slightly more tricky one is the INPUT part. Since the AVR is quite a bit slower than your code most likely, there is a way for the AVR UART to tell you to "pause" sending it bytes when its own input buffer is full. So, the UART will send XON to you when its fifo is empty, XON means you can send as many bytes as you have until XOFF is sent. Note that these are two IRQs because you /will/ be called with XOFF when sending a byte in INPUT... So it's a reentrant process.</p>
<p>When XOFF has been called, do not send any new bytes, they would be dropped. Instead wait for XON again and continue. See examples/parts/uart_udp.c for a full implementation</p>
<p>Pseudo code:</p>
<p>volatile int off = 0; void irq_xon() { off = 0; while (!off &amp;&amp; bytes_left) avr_raise_irq(UART_IRQ_INPUT, a_byte); } void irq_xoff() { off = 1; } </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga6b7b47dd702d9e331586d485013fd1eaa13ae4a52f3b3d9cf1f248bd4a2bad864"></a>UART_IRQ_INPUT&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga6b7b47dd702d9e331586d485013fd1eaa2e1090e4531310ee0c8230b0e8ae5992"></a>UART_IRQ_OUTPUT&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga6b7b47dd702d9e331586d485013fd1eaa736f8ee28a7fcab50315ae6852a0c65c"></a>UART_IRQ_OUT_XON&#160;</td><td class="fielddoc">
<p>signaled (continuously) when input fifo is not full </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga6b7b47dd702d9e331586d485013fd1eaa67242134d4743aca3e7ea49897274067"></a>UART_IRQ_OUT_XOFF&#160;</td><td class="fielddoc">
<p>signaled when input fifo IS full </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga6b7b47dd702d9e331586d485013fd1eaa124c15e2c2113d82c9471128635a4a64"></a>UART_IRQ_COUNT&#160;</td><td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="gaf9bdc3014f3d54c426b6d2df10de4960"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ggaf9bdc3014f3d54c426b6d2df10de4960a0727d1c67243388a426c3b1fe354cb90"></a>AVR_UART_FLAG_POOL_SLEEP&#160;</td><td class="fielddoc">
<p>the uart code monitors for firmware that pool on reception registers, and can do an atomic usleep() if it's detected, this helps regulating CPU </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaf9bdc3014f3d54c426b6d2df10de4960a52b3a26b795519081af9292d4a5547cd"></a>AVR_UART_FLAG_STDIO&#160;</td><td class="fielddoc">
<p>print lines on the console </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gad9e028ea2f9beda8ca0366852704697b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void avr_uart_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structavr__t.html">avr_t</a> *&#160;</td>
          <td class="paramname"><em>avr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structavr__uart__t.html">avr_uart_t</a> *&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__avr__uart_gad9e028ea2f9beda8ca0366852704697b_cgraph.png" border="0" usemap="#group__avr__uart_gad9e028ea2f9beda8ca0366852704697b_cgraph" alt=""/></div>
<map name="group__avr__uart_gad9e028ea2f9beda8ca0366852704697b_cgraph" id="group__avr__uart_gad9e028ea2f9beda8ca0366852704697b_cgraph">
<area shape="rect" id="node2" href="group__sim__io.html#gac32f09e926e9152291bd758f5860cd4e" title="Registers an IO module, so it&#39;s run(), reset() etc are called. " alt="" coords="165,107,271,133"/><area shape="rect" id="node3" href="group__sim__interrupts.html#ga7f84bf7cd40ade6cec2dd865cc5468a9" title="Register an interrupt vector. It&#39;s only needed if you want to use the &quot;r_raised&quot; flags. " alt="" coords="151,157,285,184"/><area shape="rect" id="node4" href="group__sim__io.html#gadf58f2274a9630198a6ff7f77ebc882a" title="Sets an IO module &quot;official&quot; IRQs and the ioctl used to get to them. " alt="" coords="167,208,269,235"/><area shape="rect" id="node8" href="group__sim__io.html#ga9fc8ac70dea4e1989eefe7a8e5f5e4ad" title="Register a callback for when the IO register is written. callback has to set the memory itself..." alt="" coords="147,259,289,285"/><area shape="rect" id="node10" href="avr__uart_8c.html#aadfdb42e0037be6c05ca675f96692aaf" title="avr_uart_udr_write" alt="" coords="153,411,283,437"/><area shape="rect" id="node39" href="group__sim__io.html#gaefd66e86a2ea71d10f94616a64e49add" title="Register a callback for when IO register &quot;addr&quot; is read. " alt="" coords="149,360,287,387"/><area shape="rect" id="node40" href="avr__uart_8c.html#a73565e8c5dffa9a12c788f391b7056b5" title="avr_uart_read" alt="" coords="167,309,269,336"/><area shape="rect" id="node43" href="avr__uart_8c.html#a6f7f25c39db28e1298ace478f0e8e4ad" title="avr_uart_rxc_read" alt="" coords="590,563,717,589"/><area shape="rect" id="node44" href="avr__uart_8c.html#aa16b64580d653b383125a047f2e9f08c" title="avr_uart_write" alt="" coords="166,892,270,919"/><area shape="rect" id="node50" href="avr__uart_8c.html#a9e020985d4127d46aac166ed8d3e9f9f" title="avr_uart_baud_write" alt="" coords="584,1120,723,1147"/><area shape="rect" id="node5" href="group__sim__irq.html#gab643092a04e04aca6c4e9eb08db4b81f" title="Allocates &#39;count&#39; IRQs, initializes their &quot;irq&quot; starting from &#39;base&#39; and increment. " alt="" coords="389,5,484,32"/><area shape="rect" id="node6" href="group__sim__irq.html#ga258c5ad75c46ff8180430d7ace63771f" title="Init &#39;count&#39; IRQs, initializes their &quot;irq&quot; starting from &#39;base&#39; and increment. " alt="" coords="611,5,696,32"/><area shape="rect" id="node7" href="sim__irq_8c.html#abc4fc23ffd2f8bd88b355bb35c36f9e3" title="_avr_irq_pool_add" alt="" coords="779,5,905,32"/><area shape="rect" id="node9" href="sim__io_8c.html#a73250b42a7b0b28fbfc852d9c65eca5f" title="_avr_io_mux_write" alt="" coords="371,56,502,83"/><area shape="rect" id="node11" href="group__sim__avr.html#ga6bb6e950ca849414923b3ea37dc9ed36" title="These are accessors for avr&#45;&gt;data but allows watchpoints to be set for gdb IO modules use that to set..." alt="" coords="961,768,1111,795"/><area shape="rect" id="node28" href="group__sim__regbit.html#gae20f788d4eab7e2518a3ffe8d41dc4e9" title="avr_regbit_clear" alt="" coords="785,360,899,387"/><area shape="rect" id="node29" href="group__sim__cycle__timers.html#ga07184e570e1b49ad0779b9d95322a8a5" title="register a timer to call in &#39;when&#39; usec " alt="" coords="337,309,536,336"/><area shape="rect" id="node34" href="avr__uart_8c.html#aaeab51a4bc7696894f845bc5588f63db" title="avr_uart_txc_raise" alt="" coords="372,765,501,792"/><area shape="rect" id="node35" href="group__sim__regbit.html#ga607125cf0af29de0b96eb07b3f7b902b" title="avr_regbit_get" alt="" coords="790,715,894,741"/><area shape="rect" id="node38" href="group__sim__irq.html#ga0a252051ba25d2471f96b4833985077b" title="Raise an IRQ. I.e. call their &#39;hooks&#39;, and raise any chained IRQs, and set the new &#39;value&#39;..." alt="" coords="794,512,890,539"/><area shape="rect" id="node12" href="group__sim__core.html#gafb171aa77f23670c5662cb285bdcaa3c" title="Stack pointer access. " alt="" coords="2282,591,2375,617"/><area shape="rect" id="node13" href="sim__core_8c.html#a40ea67d05f2a85d45c6a51223f0d4947" title="Read the instruction in flash memory at given pc. " alt="" coords="2255,540,2402,567"/><area shape="rect" id="node14" href="sim__core_8c.html#abd2089910a233d944503e553526ce649" title="crash" alt="" coords="1227,636,1281,663"/><area shape="rect" id="node25" href="group__sim__gdb.html#ga3a9bc8b00634b79a8854981ac66a4063" title="Called from sim_core.c. " alt="" coords="1159,560,1349,587"/><area shape="rect" id="node15" href="group__sim__avr.html#ga41fa6410b6832751264cc8898ce8c981" title="Called when the core has detected a crash somehow. " alt="" coords="1408,667,1539,693"/><area shape="rect" id="node16" href="group__sim__gdb.html#gaaee0c4dc854693c9c444665a099bc59d" title="Initialise GDB. " alt="" coords="1633,667,1725,693"/><area shape="rect" id="node17" href="group__sim__network.html#ga7fcc7182cbadb5b3c97435612ac874d8" title="network_init" alt="" coords="1844,667,1936,693"/><area shape="rect" id="node18" href="group__sim__avr.html#gaf3423fc886b29e62d8206dacbf7c3eb5" title="avr_callback_run_gdb" alt="" coords="1816,616,1964,643"/><area shape="rect" id="node24" href="group__sim__avr.html#gaa1d5062766f4b90f98c13e58ba515042" title="These are callbacks for the two &#39;main&#39; behaviour in simavr. " alt="" coords="1809,717,1971,744"/><area shape="rect" id="node19" href="group__sim__gdb.html#ga4a8a8c9374ad68c67fea5342f6479827" title="Call from the main AVR decoder thread. " alt="" coords="2040,667,2172,693"/><area shape="rect" id="node20" href="group__sim__core.html#ga80ca0a5234d7095e2491e4ca5022a69b" title="Instruction decoder, run ONE instruction. " alt="" coords="2059,565,2153,592"/><area shape="rect" id="node21" href="group__sim__cycle__timers.html#gad5101b3d431c3673ab719245a7293512" title="avr_cycle_timer_process" alt="" coords="2023,343,2189,369"/><area shape="rect" id="node22" href="sim__cycle__timers_8c.html#a1cf6099f6187998f314ff9f5e1a295e4" title="avr_cycle_timer_return\l_sleep_run_cycles_limited" alt="" coords="2241,315,2416,357"/><area shape="rect" id="node23" href="sim__cycle__timers_8c.html#a7a6e02a792cc73e158a2a5578a9d3abd" title="avr_cycle_timer_insert" alt="" coords="2252,224,2405,251"/><area shape="rect" id="node26" href="sim__gdb_8c.html#a06ddf7e732ff9fcc389bc0bacca84fe9" title="Contrary to gdb_watch_find, this actually checks the address against a watched memory range..." alt="" coords="1397,515,1549,541"/><area shape="rect" id="node27" href="sim__gdb_8c.html#afa8c609036ad6e9e3ea66dbc14f8279e" title="gdb_send_reply" alt="" coords="1417,565,1530,592"/><area shape="rect" id="node30" href="group__sim__cycle__timers.html#gab10f8f0e0e7e2f560bd83bae06bcb5c1" title="register for calling &#39;timer&#39; in &#39;when&#39; cycles " alt="" coords="1597,229,1761,256"/><area shape="rect" id="node33" href="group__sim__time.html#ga90392da0a89e4a031ff881b2c560a105" title="Converts a number of usec to a number of machine cycles, at current speed. " alt="" coords="584,309,723,336"/><area shape="rect" id="node31" href="group__sim__cycle__timers.html#ga3ab10b0853c7668ce29907d1577392c8" title="cancel a previously set timer " alt="" coords="1811,305,1969,332"/><area shape="rect" id="node32" href="sim__cycle__timers_8c.html#ae6f1c35b5f5c34abd9aa07b3eb6f907c" title="avr_cycle_timer_reset\l_sleep_run_cycles_limited" alt="" coords="2019,277,2193,318"/><area shape="rect" id="node36" href="group__sim__interrupts.html#gaaa116ab89c3535f0e063444c880c858c" title="Raise an interrupt (if enabled). " alt="" coords="589,664,718,691"/><area shape="rect" id="node37" href="group__sim__regbit.html#ga31a9e7a25f604e3aa44ae67666c8aea8" title="Set/get/clear io register bits in one operation. " alt="" coords="790,664,894,691"/><area shape="rect" id="node41" href="group__sim__avr.html#ga54c74c348d29309eba5920c69b8fad35" title="avr_core_watch_read" alt="" coords="963,551,1109,577"/><area shape="rect" id="node42" href="avr__uart_8c.html#a036ba198634e373ad637f9c944c33f48" title="avr_uart_rxc_raise" alt="" coords="372,613,501,640"/><area shape="rect" id="node45" href="group__sim__cycle__timers.html#gad716328921caaa5f21e11c179e534759" title="Check to see if a timer is present, if so, return the number (+1) of cycles left for it to fire..." alt="" coords="358,968,515,995"/><area shape="rect" id="node46" href="group__sim__regbit.html#ga0885cea33bff34f998823eea52d3605c" title="Set the &#39;raw&#39; bits, if &#39;v&#39; is the unshifted value of the bits. " alt="" coords="771,899,913,925"/><area shape="rect" id="node47" href="group__sim__interrupts.html#ga274ce5cf220a7382151f243a690bd133" title="Clear the interrupt (inc pending) if &quot;raised&quot; flag is 1. " alt="" coords="365,867,508,893"/><area shape="rect" id="node48" href="group__sim__interrupts.html#ga9ba4d7f64cb7429446ea485448e17807" title="Clear the &quot;pending&quot; status of an interrupt. " alt="" coords="589,512,718,539"/><area shape="rect" id="node49" href="group__sim__regbit.html#gae1283d16e78d0bd87b96db2e44c88a54" title="avr_regbit_setto" alt="" coords="785,772,899,799"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__avr__uart_gad9e028ea2f9beda8ca0366852704697b_icgraph.png" border="0" usemap="#group__avr__uart_gad9e028ea2f9beda8ca0366852704697b_icgraph" alt=""/></div>
<map name="group__avr__uart_gad9e028ea2f9beda8ca0366852704697b_icgraph" id="group__avr__uart_gad9e028ea2f9beda8ca0366852704697b_icgraph">
<area shape="rect" id="node2" href="sim__90usb162_8c.html#a94281f1e6275e36f8c3f74cf45af1094" title="usb162_init" alt="" coords="153,5,241,32"/><area shape="rect" id="node3" href="sim__mega128_8c.html#aa75db9154ff7da86ea2d0529eb5681ac" title="m128_init" alt="" coords="157,56,236,83"/><area shape="rect" id="node4" href="sim__mega1280_8c.html#a27f0cfb99d0fb08696933148a30b2a0d" title="m1280_init" alt="" coords="154,107,239,133"/><area shape="rect" id="node5" href="sim__mega1281_8c.html#ae0732161cc4e02dd81cf0fde0d0e727b" title="m1281_init" alt="" coords="154,157,239,184"/><area shape="rect" id="node6" href="sim__mega128rfa1_8c.html#a760d33397450f6992a799be5b96cedf8" title="m128rfa1_init" alt="" coords="147,208,247,235"/><area shape="rect" id="node7" href="sim__mega128rfr2_8c.html#ac621b083db4bd04c6d416e326d02d58d" title="m128rfr2_init" alt="" coords="148,259,245,285"/><area shape="rect" id="node8" href="sim__mega169_8c.html#a744d6860d2b5bbc4cea804aabd531493" title="m169p_init" alt="" coords="154,309,239,336"/><area shape="rect" id="node9" href="sim__mega2560_8c.html#a61aa264c3e77b1d99556dc040bfe47ed" title="m2560_init" alt="" coords="154,360,239,387"/><area shape="rect" id="node10" href="sim__megax_8h.html#a66f2ee34f5c100623a0f5aa91b9b48a1" title="mx_init" alt="" coords="165,411,229,437"/><area shape="rect" id="node11" href="sim__megax4_8h.html#a43ff8cef3fa2e05282aa063284231e03" title="mx4_init" alt="" coords="161,461,232,488"/><area shape="rect" id="node12" href="sim__megax8_8h.html#a193fe7e4188d32f956e6e47ba7a6b593" title="mx8_init" alt="" coords="161,512,232,539"/><area shape="rect" id="node13" href="sim__tiny2313_8c.html#ad25a2fcdaeb68a7f43aeda7f115104fd" title="init" alt="" coords="177,563,216,589"/><area shape="rect" id="node14" href="group__avr__lin.html#ga3ccac2e9ed2a5255830de76230d78526" title="avr_lin_init" alt="" coords="155,613,239,640"/><area shape="rect" id="node15" href="sim__megaxm1_8h.html#a62fd6eb6657d3685eaff349434bff721" title="mxm1_init" alt="" coords="295,613,377,640"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gac58237e1a35c062c02b9c42bc72bb0da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DECLARE_FIFO </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uart_fifo&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">64&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
